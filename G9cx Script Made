local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "Run My Scripts",
    LoadingTitle = "script made g9",
    LoadingSubtitle = "G9cx Hitbox Made",
    ConfigurationSaving = {
        Enabled = true,
        FileName = "FiaSTester"
    },
    ToggleUIKeybind = Enum.KeyCode.F8,
    KeySystem = false
})

local Tab = Window:CreateTab("Fias", nil)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local enabled = false
local sizeValue = 6
local transparencyValue = 0.4
local seeHitbox = false

local animSpeedEnabled = false
local animSpeedMultiplier = 2
local isAnimating = false

-- Custom locomotion IDs from your game (excluded from speed-up)
local locomotionIds = {
    "17819453109",  -- Idle fist out
    "17792701666",  -- Idle
    "17791965866",  -- Walk forward / Start running
    "17791968544",  -- Walk backward
    "127576302225448",  -- Full running
    "17843420785",  -- Slam
    "18149335682",  -- Push
    "93440471136854",  -- Heavy
    "17837722603",  -- Stomp
    "18362264385",  -- Stomp animation 2
    "17843420785",  -- Additional
    "18377436533",  -- Additional
    "18377445949",  -- Additional
    "17855214456",  -- Additional
    "17855239745",  -- Additional
    "17819453109"   -- Additional
}

-- Hitbox functions
local function setAllPartsNonCollidable(character)
    for _, part in pairs(character:GetChildren()) do
        if part:IsA("BasePart") then
            part.CanCollide = false
            part.CanTouch = true
            part.CanQuery = true
        end
    end
end

local function UpdatePlayers()
    if not enabled then return end
    local trans = seeHitbox and 0 or transparencyValue
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local Root = player.Character:FindFirstChild("HumanoidRootPart")
            if Root then
                Root.Size = Vector3.new(sizeValue, sizeValue, sizeValue)
                Root.Transparency = trans
                Root.CanCollide = false
                Root.CanTouch = true
                Root.CanQuery = true
            end
            setAllPartsNonCollidable(player.Character)
        end
    end
end

-- Anim Speed: Speeds up ONLY non-locomotion anims (punches/weaves)
local function modifyAnimationSpeed()
    spawn(function()
        while isAnimating do
            local character = LocalPlayer.Character
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    for _, anim in pairs(humanoid:GetPlayingAnimationTracks()) do
                        local animId = anim.Animation.AnimationId:match("%d+")
                        if animId and not table.find(locomotionIds, animId) then
                            anim:AdjustSpeed(animSpeedMultiplier)
                        end
                    end
                end
            end
            task.wait(0.1)
        end
    end)
end

local function toggleAnimation(on)
    if on then
        if not isAnimating then
            isAnimating = true
            modifyAnimationSpeed()
        end
    else
        isAnimating = false
        -- Reset non-locomotion anims only
        local character = LocalPlayer.Character
        if character then
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                for _, anim in pairs(humanoid:GetPlayingAnimationTracks()) do
                    local animId = anim.Animation.AnimationId:match("%d+")
                    if animId and not table.find(locomotionIds, animId) then
                        anim:AdjustSpeed(1)
                    end
                end
            end
        end
    end
end

-- Hitbox UI
Tab:CreateToggle({
    Name = "Enable Hitbox Expander",
    CurrentValue = false,
    Flag = "EnableHitbox",
    Callback = function(Value)
        enabled = Value
        if enabled then UpdatePlayers() else
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and player.Character then
                    local Root = player.Character:FindFirstChild("HumanoidRootPart")
                    if Root then Root.Size = Vector3.new(4,2,1); Root.Transparency = 1; Root.CanCollide = true end
                end
            end
        end
    end
})

Tab:CreateSlider({
    Name = "Hitbox Size (studs)",
    Range = {1, 15},
    Increment = 1,
    Suffix = "studs",
    CurrentValue = 6,
    Flag = "HitboxSize",
    Callback = function(Value) sizeValue = Value; UpdatePlayers() end
})

Tab:CreateSlider({
    Name = "Hitbox Transparency",
    Range = {0, 1},
    Increment = 0.1,
    Suffix = "",
    CurrentValue = 0.4,
    Flag = "HitboxTransparency",
    Callback = function(Value) transparencyValue = Value; UpdatePlayers() end
})

Tab:CreateToggle({
    Name = "See Hitbox (Visible)",
    CurrentValue = false,
    Flag = "SeeHitbox",
    Callback = function(Value) seeHitbox = Value; UpdatePlayers() end
})

-- Anim Speed UI
Tab:CreateToggle({
    Name = "Macro",
    CurrentValue = false,
    Flag = "AnimSpeed",
    Callback = function(Value)
        animSpeedEnabled = Value
        toggleAnimation(Value)
    end
})

Tab:CreateSlider({
    Name = "Macro Speed",
    Range = {1, 2},
    Increment = 0.1,
    Suffix = "x",
    CurrentValue = 2,
    Flag = "AnimMultiplier",
    Callback = function(Value) animSpeedMultiplier = Value end
})

-- Auto hitbox
Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function() task.wait(1); UpdatePlayers() end)
end)
LocalPlayer.CharacterAdded:Connect(function() task.wait(1); UpdatePlayers() end)

spawn(function()
    while true do
        task.wait(5)
        UpdatePlayers()
    end
end)

setfpscap(1000000)
